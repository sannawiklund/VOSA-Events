@page
@model VOSA_Events.Pages.ReviewModel
@inject VOSA_Events.Data.AccessControl accessControl
@{
    ViewData["Title"] = "Review Page";
}

<div id="review-page">

    <div id="header">
        <h1>Reviews</h1>
        <form>
            @* Om man vill välja på kategori, t ex *@
            <select>
                <option></option>
            </select>
        </form>
    </div>

    <div id="main">
        <div class="event-list">
            @foreach (var events in Model.Events)
            {
                <a asp-page="./EventDetails" asp-route-id="@events.ID" class="event-link">

                    <h2>@events.Name</h2>
                    @* Lägg till fler parametrar här *@

@*  Kanske flytta dessa till eventpages.
                    <a asp-page="./EventDetails" asp-route-id="@events.ID" class="event-link">
                        <input type="button" name="id" value="@events.ID" class="event-id" />
                        <button type="submit" class="review-button">See reviews</button>
                    </a>

                    <form method="post" asp-page="./EventDetails">
                        <input type="hidden" name="eventID" value="@events.ID" class="event-id" />
                        <button type="submit" class="review-button">Leave a review</button>
                    </form> *@

                </a>

                <div class="leave-review-section">
                    <h2>Leave a Review</h2>
                    <form method="post" asp-page="./Review">
                        <input type="hidden" name="eventID" value="@events.ID" />
                        
                        <div>
                            <label for="reviewText">Your Review:</label>
                            <textarea id="reviewText" name="reviewText" rows="4" cols="50"></textarea>
                        </div>

                        <div>
                            <label for="rating1">
                                <input type="radio" id="rating1" name="rating" value="1">
                            </label>
                            <label for="rating2">
                                <input type="radio" id="rating2" name="rating" value="2">
                            </label>
                            <label for="rating3">
                                <input type="radio" id="rating3" name="rating" value="3">
                            </label>
                            <label for="rating4">
                                <input type="radio" id="rating4" name="rating" value="4">
                            </label>
                            <label for="rating5">
                                <input type="radio" id="rating5" name="rating" value="5">
                            </label>
                        </div>

                        <button type="submit" class="review-button">Submit Review</button>
                    </form>
                </div>
            }
        </div>

        @if (Model.Events.Count == 0)
        {
            <p>No events found.</p>
        }
    </div>


</div>